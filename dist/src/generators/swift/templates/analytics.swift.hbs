/**
 * {{autogeneratedFileWarning}}
 */

#if canImport(Segment)
import Segment
#elseif canImport(Analytics)
import Analytics
#endif

public class TypewriterAnalytics {
    {{#each tracks}}
    {{#if description}}
    /// {{description}}
    {{/if}}
    public static func {{functionSignature functionName properties false}} {
        {{functionCall "TypewriterAnalytics" functionName properties "options" "[:]"}}
    }

    {{#if functionDescription}}
    /// {{functionDescription}}
    {{/if}}
    public static func {{functionSignature functionName properties true}} {
        {{indent "        " (propertiesDictionary properties)}}

        {{!-- TODO: run-time JSON Schema validation --}}
        Analytics.shared().track("{{rawEventName}}", properties: properties, options: TypewriterUtils.addContextFields(options));
    }

    {{/each}}
}
